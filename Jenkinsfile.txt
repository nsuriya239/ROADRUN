pipeline{
     agent any
     //{
       //  node{
         //    label 'Jenkins Workspace'
           //  customWorkspace '/E/RRS/RRS_Automation_CodeBase/jenkins_workspace'
        // }
    // }

     stages{
        stage('checkout'){
		steps{
             echo 'Checkout steps'
                checkout scm
		}
        }
        stage('clean'){
		steps{
            echo 'Cleaning steps'
            withMaven(
                    // Maven installation declared in the Jenkins "Global Tool Configuration"
                    maven: 'MAVEN_HOME') {
                              // Run the maven build
                                bat 'mvn clean'
                   }
		 }
        }
         stage('test'){
		steps{
            echo 'Testing testcases'
            withMaven(
                    // Maven installation declared in the Jenkins "Global Tool Configuration"
                    maven: 'MAVEN_HOME') {
                              // Run the maven build
                                bat 'mvn clean test'
                   }
		 }
        }
        stage('results'){
            archiveArtifacts artifacts: '**/test-output/*.*', fingerprint: true
        }
     }
     post { 
        always { 
            echo 'This is Jenkins QA Automation Pipeline'
        }
    }

}
